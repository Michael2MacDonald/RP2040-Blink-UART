{
	// Use IntelliSense to learn about possible attributes.
	// Hover to view descriptions of existing attributes.
	// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
	"version": "0.2.0",
	"configurations": [
		{
			"name": "Debug (Black Magic Probe)",
			"type": "cppdbg",
			"request": "launch",
			"preLaunchTask": "Build",
			"cwd": "${workspaceRoot}",
			"MIMode": "gdb",
			"targetArchitecture": "arm",
			"logging": {
				"engineLogging": true
			},

			"program": "bin/blink.elf",
			"miDebuggerPath": "arm-none-eabi-gdb",

			"customLaunchSetupCommands": [
				{
					"text": "cd ${workspaceRoot}/build"
				},
				{
					"text": "target extended-remote COM8" /* replace with your COM or /dev/tty port */
				},
				// {
				// 	"text": "monitor tpwr enable"
				// },
				{
					"text": "monitor swdp_scan"
				},
				{
					"text": "attach 1"
				},
				{
					"text": "file blink.elf"
				},
				{
					"text": "load"
				},
				{
					"text": "cd ${workspaceRoot}" /* set bath back so VScode can find source files */
				},
				{
					"text": "set mem inaccessible-by-default off"
				},
				{
					"text": "break main"
				}
		  ],
			"serverLaunchTimeout": 10000,
			"windows": {
				"miDebuggerPath": "arm-none-eabi-gdb.exe"
			}

		},
		// {
		// 	"name": "OpenOCD Debug",
		// 	"request": "launch",
		// 	"type": "cortex-debug",
		// 	"cwd": "${workspaceRoot}",
		// 	"interface": "swd",
		// 	"runToMain": true,

		// 	"servertype": "openocd",
		// 	// "serverpath":"C:/Users/Michael/Documents/Personal/Programing/Embedded Development/tools/openocd-0.10.0/bin/openocd.exe",
		// 	"serverpath":"C:/Users/Michael/Documents/Personal/Programing/Embedded Development/tools/openocd/bin/openocd.exe",
		// 	"gdbPath" : "${workspaceRoot}/tools/arm/bin/arm-none-eabi-gdb",
		// 	"armToolchainPath": "tools/arm/bin/",

		// 	"executable": "bin/blink.elf",
		// 	// "device": "RP2040",
		// 	"configFiles": [
		// 		// "interface/cmsis-dap.cfg",
		// 		"interface/ft232r.cfg",
		// 		"target/rp2040.cfg"
		// 	],
		// 	"commands": [
		// 		"transport select swd",
		// 	],
		// 	"postLaunchCommands": ["target remote 127.0.0.1:3333"],
		// }
	]
}